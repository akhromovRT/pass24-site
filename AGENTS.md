# Правила работы над проектом

## Описание проекта и целей пользователя

- **Проект:** pass24.online — корпоративный сайт облачной СКУД (системы контроля и управления доступом) PASS24
- **Стратегическая роль:** сайт — внешний интерфейс мульти-агентной системы продаж (AI Sales Factory). Не просто витрина, а источник лидов и точка входа в автоматизированную воронку продаж через Битрикс24
- **Целевая аудитория (P1):** УК жилых комплексов, девелоперы/застройщики; **(P2):** УК коттеджных посёлков, владельцы бизнес-центров
- **KPI:** конверсия 3–5%, bounce rate < 40%, LCP < 2.5 сек, PageSpeed ≥ 90/100
- **Технологии:** WordPress 6.5+, Bricks Builder, Rank Math Pro, Gravity Forms + Flamix Bitrix24, GA4 + Яндекс.Метрика, JivoSite, n8n
- **Детальный ТЗ:** `agent_docs/blueprint.md` (исходный документ), все разделы разнесены по `agent_docs/`

## Назначение AGENTS.md и границы

- AGENTS.md содержит только универсальные правила, применимые ко всем задачам.
- Специфические инструкции хранить в профильных документах `agent_docs/` или уточнять у пользователя; не раздувать AGENTS.md.
- Все проектные документы хранить в `agent_docs/`, кроме `README.md`, `AGENTS.md` и `CLAUDE.md`.

## При начале работы над задачей

- Прочитать блок "Описание проекта и целей пользователя".
- Прочитать последние 10 записей `agent_docs/development-history.md`.
- По карте документов `agent_docs/index.md` открыть только релевантные файлы.
- При нехватке контекста задать вопросы пользователю.


## Универсальные правила

- Следовать существующим паттернам, правилам и соглашениям проекта.
- Не использовать AGENTS.md как стайлгайд или список команд; для стиля полагаться на линтеры/форматтеры и существующий код.
- Документы держать краткими; вместо копирования кода ссылаться на файлы и модули.
- Если планируются большие изменения — сначала кратко согласовать подход.
- Обновлять затронутую документацию.

## Чек-лист перед завершением задачи

- Проверить, что выполнены требования задачи и изменения соответствуют ожидаемому поведению.
- Обновить релевантные документы и при необходимости запись в `agent_docs/development-history.md`.
- Если принято важное решение — добавить запись в `agent_docs/adr.md`.
- Свериться с `agent_docs/guides/dod.md` и убедиться, что критерии DoD выполнены или зафиксированы причины.
- Зафиксировать причины, если тесты не запускались или не добавлены новые (если это ожидается).
